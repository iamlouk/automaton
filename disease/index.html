<html>
<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
	<title>Disease!</title>
	<style>

	html, body {
		margin: 0px;
		padding: 0px;
		width: 100%;
		height: 100%;
	}

	canvas {
		width: 100%;
		height: 100%;
	}

	</style>
</head>
	<canvas id="canvas"></canvas>
	<script type="module">
		import init, { get_universe } from './pkg/disease.js'

		document.addEventListener('DOMContentLoaded', async (event) => {
			let canvas = document.getElementById('canvas')
			canvas.width = canvas.offsetWidth
			canvas.height = canvas.offsetHeight

			await init()

			let universe = get_universe()

			let i = 0
			setInterval(() => {
				let stats = universe.tick()
			
				console.info(`Tick #${i}`, stats)

				universe.update()
			}, 500)

			console.info('Module loaded...!')
		})

	</script>
</html>
